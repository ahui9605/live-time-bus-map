<!DOCTYPE html>
<html>
<head>
    <title>Google Map without Search Box</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        @media screen and (max-width: 300px) {
            #navigation-bar {
                height: 80px;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            #navigation-bar a {
                margin: 5px 0;
                font-size: 12px;
            }
        }
    </style>
</head>

<body>
    <div id="navigation-bar">
        <a href="index.html">Map</a>
        <a href="time-schedule.html">Schedule</a>
        <a href="#">Contact</a>
    </div>
    <div id="map-container">


        <div id="map"></div>

    </div>
    <script>
        //var map;
        //var userLocationMarker;

        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 38.9072, lng: -77.0369 }, // Washington DC coordinates
                zoom: 13,
                styles: [
                    {
                        featureType: "poi.business",
                        stylers: [
                            { visibility: "off" }
                        ]
                    },
                    {
                        featureType: "poi",
                        elementType: "labels.text",
                        stylers: [
                            { visibility: "off" }
                        ]
                    }
                ]
            });

            var markers = [];

            map.addListener('click', function (event) {
                addMarker(event.latLng);
            });

            function addMarker(location) {
                clearMarkers();
                var marker = new google.maps.Marker({
                    position: location,
                    map: map
                });
                markers.push(marker);
            }

            function clearMarkers() {
                markers.forEach(function (marker) {
                    marker.setMap(null);
                });
                markers = [];
            }

            var currentLocationButton = document.createElement('button');
            currentLocationButton.id = 'current-location-button';
            currentLocationButton.title = 'Current Location';
            currentLocationButton.innerHTML = '<i class="fas fa-map-marker-alt"></i>';
            map.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(currentLocationButton);
            currentLocationButton.addEventListener('click', function () {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function (position) {
                        var pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        map.setCenter(pos);
                    }, function () {
                        // Handle geolocation error
                    });
                } else {
                    // Browser doesn't support geolocation
                }
            });

        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBuzSGsnLGf0navFaIgbnw11PV0nOoDEh8&callback=initMap"></script>
</body>
</html>